<!DOCTYPE html>
<html>
<head>
	<title>Local Storage in JS</title>
	  <meta name="viewport" content="width=device-width, initial-scale=1.0">
	  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
	  <link rel="manifest" href="manifest.json" />
		<!-- ios support -->
		<link rel="apple-touch-icon" href="images/icons/icon-72x72.png" />
		<link rel="apple-touch-icon" href="images/icons/icon-96x96.png" />
		<link rel="apple-touch-icon" href="images/icons/icon-128x128.png" />
		<link rel="apple-touch-icon" href="images/icons/icon-144x144.png" />
		<link rel="apple-touch-icon" href="images/icons/icon-152x152.png" />
		<link rel="apple-touch-icon" href="images/icons/icon-192x192.png" />
		<link rel="apple-touch-icon" href="images/icons/icon-384x384.png" />
		<link rel="apple-touch-icon" href="images/icons/icon-512x512.png" />
		<meta name="apple-mobile-web-app-status-bar" content="#db4938" />
		<meta name="theme-color" content="#db4938" />
</head>
<body class="container">

	<h2 class="text-center mt-3">Dark / Light Mode using JS Local Storage</h2>
	<br><br>
	<hr>


	<input type="checkbox" name="" id="dark" onchange ="changeColor();" checked> 
	<span id="mode"></span>
<br><br>
<h2><u>Names and ages from localStorage</u></h2>
	<p id="name"></p>
	<p id="age"></p>

	<script type="text/javascript">

		const item = {
			name:'bharath',
			age:24,
		}
		// console.log(item.name)

		const items = [
			{
				name:'bharath',
				age:24,
			},
			{
				name:'ram',
				age:21,
			},
			{
				name:'amar',
				age:32,
			},

		]

		// console.log(items)

		var setItems = localStorage.setItem('items',JSON.stringify(items));

		var getItems = JSON.parse(localStorage.getItem('items'))
		// console.log(getName)
		let name = getItems.map(item => item.name)
		let age = getItems.map(item => item.age)
		// console.log(getItems)
		document.querySelector('#name').innerHTML = name
		document.querySelector('#age').innerHTML = age 

	</script>
	<script type="text/javascript">
		window.onload = () => {
			
			document.body.style.backgroundColor = localStorage.getItem('bgcolor');
			
			document.body.style.color = localStorage.getItem('color');
			

			if(localStorage.getItem('bgcolor') === 'black'){
				
				document.querySelector('#mode').innerHTML='Light mode';
				
				document.querySelector('#dark').checked=true;
			}else{
				
				document.querySelector('#mode').innerHTML='Dark mode';

				document.querySelector('#dark').checked=false;

			}
		}

		function changeColor(){

			let checkbox = document.querySelector('#dark');

			if (checkbox.checked){
				
				localStorage.setItem('bgcolor','black');
			    
			    document.body.style.backgroundColor = localStorage.getItem('bgcolor');
				
				localStorage.setItem('color','white');
			    
			    document.body.style.color = localStorage.getItem('color');
				
				if(localStorage.getItem('bgcolor') === 'black'){
				
				document.querySelector('#mode').innerHTML='Light mode';
				
				document.querySelector('#dark').checked=true;
				}else{
					
					document.querySelector('#mode').innerHTML='Dark mode';

					document.querySelector('#dark').checked=false;

				}

			  } else {
				
				localStorage.setItem('bgcolor','white');
			    
			    document.body.style.backgroundColor = localStorage.getItem('bgcolor');
				
				localStorage.setItem('color','black');
			    
			    document.body.style.color = localStorage.getItem('color');
				
				document.querySelector('#mode').innerHTML=localStorage.getItem('bgcolor') + ' mode';

				if(localStorage.getItem('bgcolor') === 'white'){
				
				document.querySelector('#mode').innerHTML='Dark mode';
				
				document.querySelector('#dark').checked=false;
				}else{
					
					document.querySelector('#mode').innerHTML='Light mode';

					document.querySelector('#dark').checked=true;

				}

			  }

		}
	</script>
</body>
</html>